"use strict";(self.webpackChunkegret_angular_latest_test=self.webpackChunkegret_angular_latest_test||[]).push([[747],{1747:(D,A,a)=>{a.r(A),a.d(A,{AuthModule:()=>E});var x=a(8153),f=a(6814),s=a(6223),d=a(2787),T=a(2720),y=a(1365),p=a(2296),h=a(6007),w=a(8645),t=a(5879),_=a(3417),b=a(8136),Z=a(2032),u=a(4170),g=a(5195),v=a(617);function C(r,m){if(1&r&&(t.TgZ(0,"mat-error",20)(1,"small",21),t._uU(2),t.qZA()()),2&r){const i=t.oxw();t.xp6(2),t.Oqu(i.errorMsg)}}function F(r,m){1&r&&(t.TgZ(0,"mat-error",22),t._uU(1," Username is required "),t.qZA())}function I(r,m){1&r&&(t.TgZ(0,"mat-icon",23),t._uU(1,"visibility_off"),t.qZA())}function J(r,m){1&r&&(t.TgZ(0,"mat-icon",23),t._uU(1,"visibility_on"),t.qZA())}function U(r,m){1&r&&(t.TgZ(0,"mat-error",22),t._uU(1," Password is required "),t.qZA())}const S=function(){return["/auth/forgot-password"]};function Q(r,m){if(1&r&&(t.TgZ(0,"mat-error",16)(1,"small",17),t._uU(2),t.qZA()()),2&r){const i=t.oxw();t.xp6(2),t.Oqu(i.errorMsg)}}function M(r,m){1&r&&(t.TgZ(0,"mat-error",18),t._uU(1," Email Address is required "),t.qZA())}const R=function(){return["/auth/reset-password"]},P=function(){return["/auth/signin"]};function B(r,m){if(1&r&&(t.TgZ(0,"mat-error",22)(1,"small",23),t._uU(2),t.qZA()()),2&r){const i=t.oxw();t.xp6(2),t.Oqu(i.errorMsg)}}function N(r,m){1&r&&(t.TgZ(0,"mat-icon",24),t._uU(1,"visibility_off"),t.qZA())}function j(r,m){1&r&&(t.TgZ(0,"mat-icon",24),t._uU(1,"visibility_on"),t.qZA())}function G(r,m){1&r&&(t.TgZ(0,"mat-icon",24),t._uU(1,"visibility_off"),t.qZA())}function L(r,m){1&r&&(t.TgZ(0,"mat-icon",24),t._uU(1,"visibility_on"),t.qZA())}function H(r,m){1&r&&(t.TgZ(0,"mat-error",25),t._uU(1," Password is required "),t.qZA())}const k=function(){return["/auth/signin"]},O=[{path:"",children:[{path:"signin",component:(()=>{class r{constructor(i,n,e,o){this.jwtAuth=i,this.egretLoader=n,this.router=e,this.route=o,this.errorMsg="",this._unsubscribeAll=new w.x}ngOnInit(){this.signinForm=new s.nJ({username:new s.p4("admin@arkenea.com",s.kI.required),password:new s.p4("Qwerty@123",s.kI.required)})}ngAfterViewInit(){this.autoSignIn()}ngOnDestroy(){this._unsubscribeAll.next(1),this._unsubscribeAll.complete()}signin(){const i=this.signinForm.value;this.submitButton.disabled=!0,this.progressBar.mode="indeterminate",this.jwtAuth.signin(i.username,i.password).subscribe(n=>{this.router.navigateByUrl(this.jwtAuth.return)},n=>{this.submitButton.disabled=!1,this.progressBar.mode="determinate",this.errorMsg=n.message})}autoSignIn(){"/"!==this.jwtAuth.return&&(this.egretLoader.open(`Automatically Signing you in! \n Return url: ${this.jwtAuth.return.substring(0,20)}...`,{width:"320px"}),setTimeout(()=>{this.signin(),console.log("autoSignIn"),this.egretLoader.close()},2e3))}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(_.t),t.Y36(b.P),t.Y36(d.F0),t.Y36(d.gz))};static#r=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-signin"]],viewQuery:function(n,e){if(1&n&&(t.Gf(h.pW,5),t.Gf(p.lW,5)),2&n){let o;t.iGM(o=t.CRH())&&(e.progressBar=o.first),t.iGM(o=t.CRH())&&(e.submitButton=o.first)}},decls:31,vars:12,consts:[[1,"page-wrap","h-full","slate"],[1,"session-form-hold"],[1,"!m-0"],[1,"flex","flex-col","items-center","!py-4"],["width","100px","src","assets/images/logo.svg","alt",""],[1,"fnt--24","clr--333","m-0","py-4"],["class","text-center",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-7"],["appearance","outline",1,"full-width"],["matInput","","name","username","placeholder","Username","value","",3,"formControl"],["class","form-error-msg",4,"ngIf"],[1,"mb-4"],["id","password","type","password","name","password","matInput","","placeholder","Password","value","",3,"formControl"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"disabled","click"],["class","icon-size-5",4,"ngIf"],[1,"flex","mb-4"],["href","",1,"fnt--16","clr--959595","hover:underline","text-right","full-width",3,"routerLink"],["mat-raised-button","",1,"mat-primary","full-width","mb-7",3,"disabled"],[1,"text-center"],[1,"text-red"],[1,"form-error-msg"],[1,"icon-size-5"]],template:function(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-content")(4,"div",3),t._UZ(5,"img",4),t.TgZ(6,"h2",5),t._uU(7,"Sign in to your account"),t.qZA()(),t.YNc(8,C,3,1,"mat-error",6),t.TgZ(9,"form",7),t.NdJ("ngSubmit",function(){return e.signin()}),t.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"Username"),t.qZA(),t._UZ(14,"input",10),t.qZA(),t.YNc(15,F,2,0,"mat-error",11),t.qZA(),t.TgZ(16,"div",12)(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Password"),t.qZA(),t._UZ(20,"input",13,14),t.TgZ(22,"button",15),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(21);return t.KtG(l.type="password"===l.type?"text":"password")}),t.YNc(23,I,2,0,"mat-icon",16),t.YNc(24,J,2,0,"mat-icon",16),t.qZA()(),t.YNc(25,U,2,0,"mat-error",11),t.qZA(),t.TgZ(26,"div",17)(27,"a",18),t._uU(28," Forgot Password"),t.qZA()(),t.TgZ(29,"button",19),t._uU(30,"Sign in"),t.qZA()()()()()()}if(2&n){const o=t.MAs(21);t.xp6(8),t.Q6J("ngIf",e.errorMsg),t.xp6(1),t.Q6J("formGroup",e.signinForm),t.xp6(5),t.Q6J("formControl",e.signinForm.controls.username),t.xp6(1),t.Q6J("ngIf",e.signinForm.controls.username.hasError("required")&&e.signinForm.controls.username.touched),t.xp6(5),t.Q6J("formControl",e.signinForm.controls.password),t.xp6(2),t.Q6J("disabled",e.signinForm.disabled),t.xp6(1),t.Q6J("ngIf","password"===o.type),t.xp6(1),t.Q6J("ngIf","text"===o.type),t.xp6(1),t.Q6J("ngIf",e.signinForm.controls.password.hasError("required")&&e.signinForm.controls.password.touched),t.xp6(2),t.Q6J("routerLink",t.DdM(11,S)),t.xp6(2),t.Q6J("disabled",e.signinForm.invalid)}},dependencies:[f.O5,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,p.lW,p.RK,Z.Nt,u.KE,u.hX,u.TO,u.R9,g.a8,g.dn,v.Hw,d.rH]})}return r})()},{path:"forgot-password",component:(()=>{class r{constructor(i,n,e,o){this.jwtAuth=i,this.egretLoader=n,this.router=e,this.route=o,this.errorMsg="",this._unsubscribeAll=new w.x}ngOnInit(){this.signinForm=new s.nJ({username:new s.p4("admin@arkenea.com",s.kI.required),password:new s.p4("12345",s.kI.required)})}ngAfterViewInit(){this.autoSignIn()}ngOnDestroy(){this._unsubscribeAll.next(1),this._unsubscribeAll.complete()}signin(){const i=this.signinForm.value;this.submitButton.disabled=!0,this.progressBar.mode="indeterminate",this.jwtAuth.signin(i.username,i.password).subscribe(n=>{this.router.navigateByUrl(this.jwtAuth.return)},n=>{this.submitButton.disabled=!1,this.progressBar.mode="determinate",this.errorMsg=n.message})}autoSignIn(){"/"!==this.jwtAuth.return&&(this.egretLoader.open(`Automatically Signing you in! \n Return url: ${this.jwtAuth.return.substring(0,20)}...`,{width:"320px"}),setTimeout(()=>{this.signin(),console.log("autoSignIn"),this.egretLoader.close()},2e3))}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(_.t),t.Y36(b.P),t.Y36(d.F0),t.Y36(d.gz))};static#r=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-forgot-password"]],viewQuery:function(n,e){if(1&n&&(t.Gf(h.pW,5),t.Gf(p.lW,5)),2&n){let o;t.iGM(o=t.CRH())&&(e.progressBar=o.first),t.iGM(o=t.CRH())&&(e.submitButton=o.first)}},decls:23,vars:8,consts:[[1,"page-wrap","h-full","slate"],[1,"session-form-hold"],[1,"!m-0"],[1,"flex","flex-col","items-center","!py-4"],["width","100px","src","assets/images/logo.svg","alt",""],[1,"fnt--24","clr--333","m-0","py-4"],[1,"fnt--16","clr--304156","m-0","pb-4"],["class","text-center",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-7"],["appearance","outline",1,"full-width"],["matInput","","name","username","placeholder","Email Address","value","",3,"formControl"],["class","form-error-msg",4,"ngIf"],["mat-raised-button","",1,"mat-primary","full-width","mb-7",3,"routerLink"],[1,"flex","mb-4"],["href","",1,"fnt--16","clr--959595","hover:underline","text-center","full-width",3,"routerLink"],[1,"text-center"],[1,"text-red"],[1,"form-error-msg"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-content")(4,"div",3),t._UZ(5,"img",4),t.TgZ(6,"h2",5),t._uU(7,"Forgot password?"),t.qZA(),t.TgZ(8,"p",6),t._uU(9,"Enter your email address to reset the password"),t.qZA()(),t.YNc(10,Q,3,1,"mat-error",7),t.TgZ(11,"form",8),t.NdJ("ngSubmit",function(){return e.signin()}),t.TgZ(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Email Address"),t.qZA(),t._UZ(16,"input",11),t.qZA(),t.YNc(17,M,2,0,"mat-error",12),t.qZA(),t.TgZ(18,"button",13),t._uU(19,"Send Reset Link"),t.qZA(),t.TgZ(20,"div",14)(21,"a",15),t._uU(22,"Back to Sign In"),t.qZA()()()()()()()),2&n&&(t.xp6(10),t.Q6J("ngIf",e.errorMsg),t.xp6(1),t.Q6J("formGroup",e.signinForm),t.xp6(5),t.Q6J("formControl",e.signinForm.controls.username),t.xp6(1),t.Q6J("ngIf",e.signinForm.controls.username.hasError("required")&&e.signinForm.controls.username.touched),t.xp6(1),t.Q6J("routerLink",t.DdM(6,R)),t.xp6(3),t.Q6J("routerLink",t.DdM(7,P)))},dependencies:[f.O5,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,p.lW,Z.Nt,u.KE,u.hX,u.TO,g.a8,g.dn,d.rH]})}return r})()},{path:"reset-password",component:(()=>{class r{constructor(i,n,e,o){this.jwtAuth=i,this.egretLoader=n,this.router=e,this.route=o,this.errorMsg="",this._unsubscribeAll=new w.x}ngOnInit(){this.signinForm=new s.nJ({username:new s.p4("admin@arkenea.com",s.kI.required),password:new s.p4("12345",s.kI.required)})}ngAfterViewInit(){this.autoSignIn()}ngOnDestroy(){this._unsubscribeAll.next(1),this._unsubscribeAll.complete()}signin(){const i=this.signinForm.value;this.submitButton.disabled=!0,this.progressBar.mode="indeterminate",this.jwtAuth.signin(i.username,i.password).subscribe(n=>{this.router.navigateByUrl(this.jwtAuth.return)},n=>{this.submitButton.disabled=!1,this.progressBar.mode="determinate",this.errorMsg=n.message})}autoSignIn(){"/"!==this.jwtAuth.return&&(this.egretLoader.open(`Automatically Signing you in! \n Return url: ${this.jwtAuth.return.substring(0,20)}...`,{width:"320px"}),setTimeout(()=>{this.signin(),console.log("autoSignIn"),this.egretLoader.close()},2e3))}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(_.t),t.Y36(b.P),t.Y36(d.F0),t.Y36(d.gz))};static#r=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-reset-password"]],viewQuery:function(n,e){if(1&n&&(t.Gf(h.pW,5),t.Gf(p.lW,5)),2&n){let o;t.iGM(o=t.CRH())&&(e.progressBar=o.first),t.iGM(o=t.CRH())&&(e.submitButton=o.first)}},decls:36,vars:14,consts:[[1,"page-wrap","h-full","slate"],[1,"session-form-hold"],[1,"!m-0"],[1,"flex","flex-col","items-center","!py-4"],["width","100px","src","assets/images/logo.svg","alt",""],[1,"fnt--24","clr--333","m-0","py-4"],[1,"fnt--16","clr--304156","m-0","pb-4"],["class","text-center",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-7"],["appearance","outline",1,"full-width"],["id","password","type","password","name","password","matInput","","placeholder","Create password","value","",3,"formControl"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"disabled","click"],["class","icon-size-5",4,"ngIf"],[1,"mb-4"],["id","password","type","password","name","password","matInput","","placeholder","Confirm password","value","",3,"formControl"],["passwordConfirmField",""],["class","form-error-msg",4,"ngIf"],["mat-raised-button","",1,"mat-primary","full-width","mb-7",3,"disabled"],[1,"flex","mb-4"],["href","",1,"fnt--16","clr--959595","hover:underline","text-center","full-width",3,"routerLink"],[1,"text-center"],[1,"text-red"],[1,"icon-size-5"],[1,"form-error-msg"]],template:function(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-content")(4,"div",3),t._UZ(5,"img",4),t.TgZ(6,"h2",5),t._uU(7,"Reset password"),t.qZA(),t.TgZ(8,"p",6),t._uU(9,"Create a new password for your account"),t.qZA()(),t.YNc(10,B,3,1,"mat-error",7),t.TgZ(11,"form",8),t.NdJ("ngSubmit",function(){return e.signin()}),t.TgZ(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Create password"),t.qZA(),t._UZ(16,"input",11,12),t.TgZ(18,"button",13),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(17);return t.KtG(l.type="password"===l.type?"text":"password")}),t.YNc(19,N,2,0,"mat-icon",14),t.YNc(20,j,2,0,"mat-icon",14),t.qZA()()(),t.TgZ(21,"div",15)(22,"mat-form-field",10)(23,"mat-label"),t._uU(24,"Confirm password"),t.qZA(),t._UZ(25,"input",16,17),t.TgZ(27,"button",13),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(26);return t.KtG(l.type="password"===l.type?"text":"password")}),t.YNc(28,G,2,0,"mat-icon",14),t.YNc(29,L,2,0,"mat-icon",14),t.qZA()(),t.YNc(30,H,2,0,"mat-error",18),t.qZA(),t.TgZ(31,"button",19),t._uU(32,"Reset Password"),t.qZA(),t.TgZ(33,"div",20)(34,"a",21),t._uU(35,"Back to Sign In"),t.qZA()()()()()()()}if(2&n){const o=t.MAs(17),c=t.MAs(26);t.xp6(10),t.Q6J("ngIf",e.errorMsg),t.xp6(1),t.Q6J("formGroup",e.signinForm),t.xp6(5),t.Q6J("formControl",e.signinForm.controls.password),t.xp6(2),t.Q6J("disabled",e.signinForm.disabled),t.xp6(1),t.Q6J("ngIf","password"===o.type),t.xp6(1),t.Q6J("ngIf","text"===o.type),t.xp6(5),t.Q6J("formControl",e.signinForm.controls.password),t.xp6(2),t.Q6J("disabled",e.signinForm.disabled),t.xp6(1),t.Q6J("ngIf","password"===c.type),t.xp6(1),t.Q6J("ngIf","text"===c.type),t.xp6(1),t.Q6J("ngIf",e.signinForm.controls.password.hasError("required")&&e.signinForm.controls.password.touched),t.xp6(1),t.Q6J("disabled",e.signinForm.invalid),t.xp6(3),t.Q6J("routerLink",t.DdM(13,k))}},dependencies:[f.O5,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,p.lW,p.RK,Z.Nt,u.KE,u.hX,u.TO,u.R9,g.a8,g.dn,v.Hw,d.rH]})}return r})()}]}];let E=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#r=this.\u0275mod=t.oAB({type:r});static#e=this.\u0275inj=t.cJS({imports:[f.ez,s.u5,y.aw,s.UX,T.m,x.Xd,d.Bz.forChild(O)]})}return r})()}}]);